<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png" />
  <link rel="manifest" href="images/favicon/site.webmanifest" />
  <link rel="mask-icon" href="images/favicon/safari-pinned-tab.svg" color="#5bbad5" />
  <meta name="msapplication-TileColor" content="#da532c" />
  <meta name="theme-color" content="#ffffff" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Payment - Our Hospital Pharmacy</title>
  <link rel="stylesheet" href="css/payment.css" />
  <script src="js/payment.js" defer></script>
</head>
<body>
  <header>
    <a href="index.html">
      <img src="images/logo.png" alt="Hospital Logo" />
    </a>
    <h1>YouHeal Hospital</h1>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about_us.html">About Us</a></li>
        <li><a href="services_page.html">Services</a></li>
        <li><a href="doctors_page.html">Doctors</a></li>
        <li><a href="consulting_reservation_page.html">Consulting Reservation</a></li>
        <li><a href="pharmacy_page.html">Pharmacy</a></li>
        <li><a href="login_page.html">Login</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- Progress Bar -->
    <div class="progress-bar">
      <div class="step active" id="step1">
        <span>1</span>
        <p>Delivery Details</p>
      </div>
      <div class="step" id="step2">
        <span>2</span>
        <p>Payment Options</p>
      </div>
      <div class="step" id="step3">
        <span>3</span>
        <p>Complete</p>
      </div>
    </div>

    <!-- Step 1: Delivery Details -->
    <section class="tab-content" id="deliveryDetailsTab">
      <h2>Delivery Details</h2>
      <form id="deliveryDetailsForm">
        <fieldset>
          <legend>Personal Information</legend>
          <label for="name">Full Name:</label>
          <input type="text" id="name" name="name" placeholder="Enter your full name" required />

          <label for="email">Email:</label>
          <input type="email" id="email" name="email" placeholder="Enter your email" required />

          <label for="phone">Phone:</label>
          <input 
            type="tel" 
            id="phone" 
            name="phone" 
            placeholder="Enter your phone number" 
            required 
            pattern="\d+" 
            title="Please enter numbers only" 
            oninput="this.value = this.value.replace(/[^0-9]/g, '')" 
          />
        </fieldset>

        <fieldset>
          <legend>Delivery Address</legend>
          <label for="address">Address:</label>
          <input type="text" id="address" name="address" placeholder="Enter your address" required />

          <label for="city">City:</label>
          <input type="text" id="city" name="city" placeholder="Enter your city" required />

          <label for="zip">Zip Code:</label>
          <input 
            type="tel" 
            id="zip" 
            name="zip" 
            placeholder="Enter your zip code" 
            required 
            pattern="\d+" 
            title="Please enter numbers only" 
            oninput="this.value = this.value.replace(/[^0-9]/g, '')" 
          />
        </fieldset>

        <button type="button" id="nextToPayment">Next</button>
      </form>
    </section>

    <!-- Step 2: Payment Options -->
    <section class="tab-content hidden" id="paymentOptionsTab">
      <h2>Payment Options</h2>
      <div>
        <input type="radio" id="cashOnDelivery" name="paymentMethod" value="cash" checked />
        <label for="cashOnDelivery">Cash on Delivery</label>
      </div>
      <div>
        <input type="radio" id="cardPayment" name="paymentMethod" value="card" />
        <label for="cardPayment">Card Payment</label>
      </div>
      <div id="cardPaymentForm" class="hidden">
        <form id="paymentForm">
          <label for="cardNumber">Card Number:</label>
          <input 
            type="text" 
            id="cardNumber" 
            name="cardNumber" 
            placeholder="Enter your card number" 
            required 
            maxlength="16" 
            inputmode="numeric" 
            oninput="this.value = this.value.replace(/[^0-9]/g, '')" 
          />

          <label for="expiryDate">Expiry Date:</label>
          <input 
            type="text" 
            id="expiryDate" 
            name="expiryDate" 
            placeholder="MM/YY" 
            required 
            maxlength="5" 
            pattern="(0[1-9]|1[0-2])\/[0-9]{2}" 
            title="Enter a valid expiry date in MM/YY format" 
          />

          <label for="cvv">CVV:</label>
          <input 
            type="text" 
            id="cvv" 
            name="cvv" 
            placeholder="Enter CVV" 
            required 
            maxlength="6" 
            inputmode="numeric" 
            oninput="this.value = this.value.replace(/[^0-9]/g, '')" 
          />
        </form>
      </div>
      <button type="button" id="nextToComplete">Next</button>
    </section>

    <!-- Step 3: Complete -->
    <section class="tab-content hidden" id="completeTab">
      <h2>Thank You for Your Purchase!</h2>
      <p>Your order has been placed successfully.</p>
      <p>Expected Delivery Date: <span id="deliveryDate"></span></p>
      <h3>Order Summary</h3>
      <table id="orderSummaryTable">
        <thead>
          <tr>
            <th>Item</th>
            <th>Quantity</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>
          <!-- Items dynamically added -->
        </tbody>
        <tfoot>
          <tr>
            <td colspan="2">Total Price:</td>
            <td>LKR <span id="totalPrice">0.00</span></td>
          </tr>
        </tfoot>
      </table>
      <button id="backToPharmacy">Back to Pharmacy</button>
    </section>
  </main>
</body>
</html>
